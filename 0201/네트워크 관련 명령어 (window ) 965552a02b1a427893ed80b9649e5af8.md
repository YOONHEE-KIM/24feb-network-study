# 네트워크 관련 명령어 (window.)

## 사용목적

- **네트워크 구성**
네트워크 인터페이스의 구성을 확인하고 변경할 수 있다.
- **진단**
네트워크 연결의 상태를 확인하고 네트워크 장비 간의 통신을 테스트한다. ping과 traceroute는 여기에 해당한다.(호스트 응답 시간 측정, 네트워크 경로 추적)
- **문제 해결**
네트워크 문제를 해결하고 원인을 파악한다. ex) arp 사용하여 MAC 주소와 IP 주소 간의 매핑을 확인

---

## 1. ping - Packet Internet Groper

목적지 호스트에 ICMP 패킷을 보내고 응답을 받는 명령어로, 네트워크 연결 상태를 확인하고 응답 시간을 측정할 수 있다.(호스트 간의 연결성을 테스트 하는 것)

- 그러나 상대 호스트의 icmp_reply가 열려있어야 응답이 온다. (요즘은 보안상의 이유로 닫아놓는 경우가 많다고 함)

![Untitled](%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%E1%85%AF%E1%84%8F%E1%85%B3%20%E1%84%80%E1%85%AA%E1%86%AB%E1%84%85%E1%85%A7%E1%86%AB%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%85%E1%85%A7%E1%86%BC%E1%84%8B%E1%85%A5%20(window%20)%20965552a02b1a427893ed80b9649e5af8/Untitled.png)

- ping 명령어 사용방법
    - 기본 사용 방법 : ping [옵션] [대상 호스트 또는 IP 주소]
    - **-c count**: 지정된 횟수만큼 패킷을 보냄 → ping -c 6 ; 6개의 패킷 보냄
    - **-s size**: 패킷 크기 지정하는 옵션. 기본적으로 대부분의 시스템은 56바이트의 ICMP 데이터를 포함하는 패킷을 보낸다.
    - **-t**: 패킷을 계속 보내고 대상 호스트로부터 응답이 오는 대로 출력. Windows에서 사용
    - **-i interval**: 패킷 간의 간격 지정. 기본적으로 대부분의 시스템은 1초 간격으로 패킷을 보낸다. (옵션을 지정하지 않으면 1초 간격) 
    → ping -i 3 : 3초 간격으로 패킷을 보내라.

## 2. ipconfig(Windows)/**ifconfig (Linux/macOS)**

현재 시스템의 네트워크 인터페이스 구성을 표시하는명령어. IP주소, 서브넷 마스크, 기본 게이트웨이, MAC주소 등의 정보 제공.

운영체제에 따라 ifconfig를 사용하기도 함.

![ipconfig 캡쳐 (1).png](%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%E1%85%AF%E1%84%8F%E1%85%B3%20%E1%84%80%E1%85%AA%E1%86%AB%E1%84%85%E1%85%A7%E1%86%AB%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%85%E1%85%A7%E1%86%BC%E1%84%8B%E1%85%A5%20(window%20)%20965552a02b1a427893ed80b9649e5af8/ipconfig_%25EC%25BA%25A1%25EC%25B3%2590_(1).png)

- 이 명령어를 사용하여 확인가능한 게이트웨이 주소로 라우터에 접속할 수 있다.

## 3. nslookup(window) dig(Linux/macOS)

도메인 이름을 IP 주소로 해석하거나, IP 주소에 대한 호스트 이름을 찾을 수 있다.  DNS(Domain Name System) 관련 문제 해결에 사용된다. (네트워크 문제의 상당수가 DNS문제인 경우가 많아서 알아두면 좋다.)

- nslookup 사용법
    
    1. 명령프롬프트에 nslookup 입력
    
    ![Untitled](%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%E1%85%AF%E1%84%8F%E1%85%B3%20%E1%84%80%E1%85%AA%E1%86%AB%E1%84%85%E1%85%A7%E1%86%AB%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%85%E1%85%A7%E1%86%BC%E1%84%8B%E1%85%A5%20(window%20)%20965552a02b1a427893ed80b9649e5af8/Untitled%201.png)
    
    1. 도메인 이름을 입력하여 해당 도메인의 IP 주소를 검색
    2. IP 주소를 입력해 해당 IP 주소의 호스트 이름을 찾을 수 있다
    3. DNS 서버 변경 → 기본적으로 nslookup은 시스템의 기본 DNS 서버를 사용한다. 다른 DNS 서버를 사용해 호스트 이름을 해석하고자 할 때는 도메인 주소 뒤에 다른 DNS 서버를 적어준다.
    4. 상세 정보 확인 → -debug 옵션 추가하여 보다 자세한 디버그 정보를 확인할 수 있다.
    5. 인터렉티브 모드 → nslookup 실행 후에 도메인 이름이나 IP 주소를 입력하지 않고 인터랙티브 모드로 전환하여 직접 명령을 입력할 수 있다.

## 4. netstat

현재 네트워크 연결 상태를 표시한다. 로컬 시스템에서 수신 및 송신 중인 연결, 포트 상태, 라우팅 테이블 등의 정보 제공한다.

- netstat 명령어 옵션 별 설명
    1. **a (--all)**:
        - 모든 연결 및 리스닝 소켓을 표시
    2. **t (--tcp)**:
        - TCP 프로토콜에 대한 연결 정보를 표시
    3. **u (--udp)**:
        - UDP 프로토콜에 대한 연결 정보를 표시
    4. **n (--numeric)**:
        - 주소와 포트 번호를 숫자로 표시 → 호스트 이름과 서비스명을 확인할 수 없다.
    5. **p (--program)**:
        - 연결에 대한 프로세스 ID(PID) 및 프로세스 이름을 표시
    6. **r (--route)**:
        - 라우팅 테이블을 표시
    7. **s (--statistics)**:
        - 네트워크 프로토콜에 대한 통계 정보를 표시
    8. **e (--extend)**:
        - 기본 출력에 더 많은 정보를 추가 → 윈도우에서는 이 옵션을 사용하여 송수신된 패킷 및 오류 정보를 표시한다.
    9. **c (--continuous)**:
        - 지속적으로 업데이트되는 출력을 생성한다. 특정 시간 간격으로 계속해서 연결 정보를 표시

## 5. **networksetup (macOS)**

네트워크 인터페이스를 구성하고 관리하는 명령어. IP 주소 할당, 서브넷 마스크 설정, 네트워크 인터페이스 활성화/비활성화 등의 작업을 수행한다.

ipconfig나 ifconfig와는 다르게 macOS 운영 체제에서 네트워크 설정을 조작하고 관리하기에 특화된 명령어다.

1. 네트워크 인터페이스를 활성화 또는 비활성화한다.
2. 네트워크 인터페이스의 구성을 변경한다.
3. 네트워크 위치를 설정하고 관리한다.
4. 프록시 서버 설정을 변경한다.
5. VPN(Virtual Private Network) 설정을 관리한다.

## 6. **arp (Windows/Linux)**

ARP(Address Resolution Protocol) 캐시를 표시하거나 조작한다. IP 주소와 MAC 주소 간의 매핑 정보를 보여주며, 네트워크에서 주소 해석 문제를 해결하는 데 도움이 된다. 시스템의 ARP 테이블을 조회하고 관리할 수 있고, ARP 테이블은 네트워크 장키 간의 통신에 중요한 역할을 한다.

- 기본 사용법
    
    arp [-a] [-g] [-d] [-s [주소 매핑]] [인터페이스]
    
- arp의 옵션
    1. **a (--display)**: ARP 테이블을 출력합니다. 현재 시스템에 저장된 모든 ARP 엔트리를 표시
    2. **g (--get)**: 지정된 IP 주소의 MAC 주소를 검색
    3. **d (--delete)**: 지정된 IP 주소에 대한 ARP 엔트리를 삭제
    4. **s (--set)**: ARP 테이블에 새로운 엔트리를 추가합니다. 주로 IP 주소와 MAC 주소의 매핑을 지정하여 사용
    5. **[주소 매핑]**: s 옵션과 함께 사용되며, 새로운 ARP 엔트리의 IP 주소와 MAC 주소를 지정
    6. **[인터페이스]**: ARP 테이블을 조회할 네트워크 인터페이스를 지정. 일반적으로 생략할 수 있고, 생략할 경우 기본 인터페이스를 사용한다.

## 7. **tracert (Windows) traceroute (Linux/macOS)**

목적지까지 패킷이 전달되는 경로를 추적한다. 각 라우터를 거치는 시간 및 IP 주소를 보여준다. 네트워크 경로 분석 및 문제 해결에 사용한다. 또한 연결하는 동안 발생하는 지연이나 패킷 손실을 확인할 수 있다.

- 사용방법
    
    tracert [목적지 주소 또는 호스트 이름]
    
    옵션
    
    1. **d**: 라우터의 주소를 확인하지 않고 경로를 추적
    2. **h maximum_hops**: 최대 홉 수를 지정. 이 옵션은 경로를 추적할 때 특정 홉 수 이후에 추적을 중지한다
    3. **j host-list**: 특정 경유지(라우터)의 목록을 지정하여 경로 추적 시작
    4. **w timeout:** 응답을 기다리는 최대 시간(밀리초)을 지정
    5. -4: IPv4 주소를 사용하여 경로 추적을 수행
    6. -6: IPv6 주소를 사용하여 경로 추적을 수행
    7. **R**: 반사된 라우트를 추적
    8. **S srcaddr**: 출발지 주소를 지정
    9. **?** 또는 **help**: 도움말 메시지

## 8. nbtstat(Windows)

NetBIOS(Name Resolution Protocol) 정보 및 네트워크 연결 상태를 확인하는 데 사용한다. 주로 네트워크 문제 해결 및 네트워크 구성을 진단하는 데에 유용하다. 

![Untitled](%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%E1%85%AF%E1%84%8F%E1%85%B3%20%E1%84%80%E1%85%AA%E1%86%AB%E1%84%85%E1%85%A7%E1%86%AB%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%85%E1%85%A7%E1%86%BC%E1%84%8B%E1%85%A5%20(window%20)%20965552a02b1a427893ed80b9649e5af8/Untitled%202.png)

명령프롬프트에 nbtstat을 입력하면 각 옵션에 대한 상세 설명을 보여준다.

`NetBIOS는 "Network Basic Input/Output System"의 약자로, 컴퓨터 네트워크에서 서비스를 제공하는 데 사용되는 응용 프로그램 프로그래밍 인터페이스(API)다. 주로 로컬 네트워크에서 호스트 간의 통신을 지원하기 위해 개발됨`

## 9. telnet

네트워크 프로토콜 중 하나인 Telnet을 사용하여 원격 호스트에 로그인하거나 원격 시스템에 접속하는 데 사용되는 명령어 및 프로그램이다. 주로 CLI(Command-Line Interface)를 통해 다른 호스트로의 원격 접속을 제공한다. 

- 사용방법
    
    telnet [호스트 이름 또는 IP 주소] [포트 번호]
    
    옵션은 아래와 같다.
    
    1. **l username (--login username)**:
        - 원격 호스트에 로그인할 사용자 이름을 지정
    2. **u username (--user username)**:
        - 로그인할 사용자 이름 지정
    3. **a (--autologin)**:
        - 로그인 후 바로 명령을 실행
    4. **e escapechar (--escapechar escapechar)**:
        - 이스케이프 문자를 지정하여 Telnet 세션 내에서 특정 명령을 실행할 수 있다
    5. **t (--terminal-type)**:
        - Telnet 세션에서 사용할 터미널 유형 지정
    6. **p (--proxy)**:
        - 프록시 서버를 사용하여 Telnet 세션 설정
    7. **k (--keepalive)**:
        - 연결이 유지되는 동안 일정 시간마다 패킷을 보내 연결을 유지
    8. **? (--help)**:
        - 도움말 메시지를 표시
    
    요즘은 보안상의 이유로 SSH와 같은 보안이 강화된 프로토콜을 사용하는 것 권장
    

## 10. proxycfg

웹 프록시 서버 설정을 관리하는 데 사용된다. 주로 웹 브라우저가 시스템의 프록시 설정을 사용하여 웹 사이트에 연결하는 방법을 제어한다. 그러나 최신 버전의 윈도우에서는 더 이상 사용되지 않으며, 대신 netsh 명령어를 사용하여 프록시 설정을 관리하는 것이 권장되고 있다.

- 사용방법
    
    proxycfg [/d] | [/u] [/e] [proxyserver] [;https=proxyserver[:port]] [;override:<local>]
    
    - **/d (--direct)**:
        - 프록시 서버를 사용하지 않고 직접 연결
    - **/u (--useproxy)**:
        - 프록시 서버를 사용하여 연결
    - **/e (--enable)**:
        - 프록시 설정을 활성화
    - **proxyserver**:
        - 프록시 서버의 주소를 지정
    - **;https=proxyserver[:port]**:
        - HTTPS 프로토콜을 위한 프록시 서버의 주소와 포트 번호 지정
    - **;override:<local>**:
        - 지정된 로컬 주소를 제외하고 프록시 서버를 사용

## 11. netsh

네트워크 구성 및 관리를 위한 명령줄 유틸리티로, 이를 통해 네트워크 인터페이스, 방화벽, 라우팅 등의 다양한 네트워크 구성 요소를 관리할 수 있다. "Network Shell"의 약어로, 윈도우 운영 체제에서 네트워크 설정 및 관리를 위한 고급 인터페이스를 제공한다.

- 사용방법
    - netsh [인터페이스] [커맨드]
    - 방화벽 설정 관리 → netsh advfirewall

### netsh와 proxycfg의 차이

netsh는 네트워크의 다양한 측면을 관리하는 데 사용되는 범용적인 도구, proxycfg는 이전 버전의 윈도우 운영체제에서 웹 프록시 설정을 관리하는 데 사용되는 도구다. 현재의 윈도우 시스템에서는 netsh를 사용하여 네트워크 설정과 관리를 수행하는 것이 더 권장된다. 프록시 설정을 변경해야 하는 경우에는 netsh를 사용하여 프록시 설정을 관리한다.

### 게이트웨이 리뷰

….는 자취방 공용 공유기가 초기설정 아이디/비번이 아니라서 다른 공유기 연결하면 진행

![Untitled](%E1%84%82%E1%85%A6%E1%84%90%E1%85%B3%E1%84%8B%E1%85%AF%E1%84%8F%E1%85%B3%20%E1%84%80%E1%85%AA%E1%86%AB%E1%84%85%E1%85%A7%E1%86%AB%20%E1%84%86%E1%85%A7%E1%86%BC%E1%84%85%E1%85%A7%E1%86%BC%E1%84%8B%E1%85%A5%20(window%20)%20965552a02b1a427893ed80b9649e5af8/Untitled%203.png)